package scam;

import java.util.Scanner;

public class lake
{
	public static boolean[][] grid;

	public static void main(String[] args)
	{
		Scanner scan = new Scanner(System.in);
		int rows = scan.nextInt(), cols = scan.nextInt(), sub = scan.nextInt();
		grid = new boolean[rows][cols];
		for (int i = 0; i < sub; i++)
			grid[scan.nextInt()][scan.nextInt()] = true;

		int max = 0;
		for (int i = 0; i < rows; i++)
			for (int j = 0; j < cols; j++)
				if (grid[i][j])
					max = Math.max(flood(i, j), max);

		System.out.println(max);
		scan.close();
	}

	public static void flood(int row, int col)
	{
		grid[row][col]=false;
	}
}
